<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tokkor — Tournaments. Prizes. Coming Soon.</title>
  <meta name="description" content="Join Tokkor’s waitlist to get notified at launch. Daily, weekly, monthly tournaments with prizes." />
  <meta property="og:title" content="Tokkor — Coming Soon" />
  <meta property="og:description" content="Join Tokkor’s waitlist to get notified at launch." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="/poster.jpg" />
  <meta name="theme-color" content="#0f172a" />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%23000000'/%3E%3Ctext x='50' y='58' text-anchor='middle' font-family='Arial' font-size='52' fill='%23ffffff'%3ET%3C/text%3E%3C/svg%3E" />
  <!-- Tailwind via CDN for quick styling; can be replaced with your own CSS later -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Simple fade-in animation */
    .fade-in { animation: fadeIn 0.8s ease-out both; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(6px);} to { opacity: 1; transform: translateY(0);} }
    /* Honeypot field hidden from users */
    .hp { position:absolute !important; left:-5000px !important; }
  </style>
</head>
<body class="min-h-screen bg-slate-950 text-white selection:bg-purple-500/30">
  <main class="relative mx-auto max-w-5xl px-6 py-10 sm:py-14">
    <!-- Header -->
    <header class="flex items-center justify-between gap-4">
      <div class="flex items-center gap-3">
        <div class="h-9 w-9 rounded-xl bg-gradient-to-br from-purple-500 to-fuchsia-600 grid place-items-center font-bold">T</div>
        <div>
          <h1 class="text-xl font-semibold tracking-tight">Tokkor</h1>
          <p class="text-xs text-slate-400 -mt-0.5">Play. Rank. Win.</p>
        </div>
      </div>
      <span class="text-xs text-slate-400">Pre‑launch</span>
    </header>

    <!-- Hero -->
    <section class="mt-10 grid items-center gap-8 lg:grid-cols-2">
      <div class="fade-in">
        <h2 class="text-3xl sm:text-4xl font-extrabold leading-tight">
          Tournaments with real prizes —<br class="hidden sm:block" />
          <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-fuchsia-400">launching soon.</span>
        </h2>
        <p class="mt-4 text-slate-300 max-w-prose">
          Be first to know when Tokkor goes live. Enter your email and mobile number to join the waitlist and get early access rewards.
        </p>
        <ul class="mt-4 text-slate-400 text-sm list-disc list-inside space-y-1">
          <li>Daily, weekly, monthly leaderboards</li>
          <li>Multiple hyper‑casual games</li>
          <li>Exclusive beta invites for early sign‑ups</li>
        </ul>
      </div>

      <!-- Poster -->
      <div class="fade-in order-first lg:order-none">
        <div class="overflow-hidden rounded-2xl ring-1 ring-white/10 shadow-2xl">
          <img src="/rewards post - high risk.png" alt="Tokkor poster" class="w-full h-auto block" />
        </div>
      </div>
    </section>

    <!-- Signup Card -->
    <section class="mt-10">
      <div class="rounded-2xl border border-white/10 bg-white/5 p-6 sm:p-8 backdrop-blur">
        <h3 class="text-xl font-semibold">Get notified at launch</h3>
        <p class="text-sm text-slate-300 mt-1">No spam. Unsubscribe anytime.</p>

        <form id="waitlist-form" class="mt-5 grid gap-4 sm:grid-cols-2" novalidate>
          <!-- Hidden honeypot -->
          <input type="text" name="company" class="hp" tabindex="-1" autocomplete="off" />

          <div class="sm:col-span-2">
            <label class="block text-sm text-slate-300" for="name">Name (optional)</label>
            <input id="name" name="name" type="text" inputmode="text" class="mt-1 w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3 outline-none focus:ring-2 focus:ring-purple-500" placeholder="Your name" />
          </div>

          <div>
            <label class="block text-sm text-slate-300" for="email">Email</label>
            <input id="email" name="email" type="email" required autocomplete="email" class="mt-1 w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3 outline-none focus:ring-2 focus:ring-purple-500" placeholder="you@example.com" />
          </div>

          <div>
            <label class="block text-sm text-slate-300" for="phone">Mobile Number</label>
            <input id="phone" name="phone" type="tel" required autocomplete="tel" class="mt-1 w-full rounded-xl bg-slate-900/70 border border-white/10 px-4 py-3 outline-none focus:ring-2 focus:ring-purple-500" placeholder="01XXXXXXXXX or +8801XXXXXXXXX" pattern="^(\+?8801[3-9]\d{8}|01[3-9]\d{8})$" />
            <p class="text-xs text-slate-500 mt-1">Bangladesh format supported. International numbers okay if starting with <code>+880</code>.</p>
          </div>

          <div class="sm:col-span-2 flex items-start gap-3">
            <input id="consent" name="consent" type="checkbox" required class="mt-1 h-4 w-4 rounded border-white/20 bg-slate-900/70" />
            <label for="consent" class="text-sm text-slate-300">I agree to be contacted about Tokkor’s launch and related updates. <span class="text-slate-400">(You can unsubscribe anytime.)</span></label>
          </div>

          <div class="sm:col-span-2 flex flex-col sm:flex-row gap-3 items-center">
            <button id="submitBtn" type="submit" class="inline-flex items-center justify-center rounded-xl bg-gradient-to-br from-purple-500 to-fuchsia-600 px-5 py-3 font-semibold shadow hover:brightness-110 focus:outline-none disabled:opacity-50">
              Notify me
            </button>
            <p id="formMsg" class="text-sm text-slate-400"></p>
          </div>
        </form>
      </div>
    </section>

    <!-- Footer -->
    <footer class="mt-12 border-t border-white/10 pt-6 text-xs text-slate-500 flex flex-col sm:flex-row gap-2 sm:items-center sm:justify-between">
      <p>© <span id="year"></span> Tokkor. All rights reserved.</p>
      <p>Questions? <a href="mailto:hello@yourdomain.com" class="underline hover:text-slate-300">hello@yourdomain.com</a></p>
    </footer>
  </main>

  <script>
  // ▼ PASTE your exact Web App "exec" URL here (must start with https://script.google.com/.../exec)
  const FORM_ENDPOINT = "https://script.google.com/macros/s/AKfycbxPTrhvv9pZCEEN0n2pu1jcQU7b9iOlsteTIIykeViZ8Ix4ifzuNNpW2V0QVSlOGDD0Mw/exec";

  // Helper: URL-encode the form (prevents CORS preflight)
  const encodeForm = (obj) => new URLSearchParams(obj).toString();

  const form   = document.getElementById('waitlist-form');
  const msg    = document.getElementById('formMsg');
  const btn    = document.getElementById('submitBtn');
  const yearEl = document.getElementById('year');
  yearEl.textContent = new Date().getFullYear();

  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    // Honeypot
    if (form.company && form.company.value) return;

    const data = Object.fromEntries(new FormData(form).entries());

    // Basic checks
    if (!data.email || !data.phone) {
      msg.textContent = 'Please enter both email and mobile number.';
      msg.className   = 'text-sm text-red-400'; return;
    }
    if (!form.consent.checked) {
      msg.textContent = 'Please agree to be contacted.';
      msg.className   = 'text-sm text-red-400'; return;
    }

    btn.disabled = true;
    msg.textContent = 'Submitting…';
    msg.className   = 'text-sm text-slate-400';

    try {
      const res = await fetch(FORM_ENDPOINT, {
        method: 'POST',
        headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
        body: encodeForm(data)          // IMPORTANT: urlencoded, not JSON
        // DO NOT add mode:"no-cors" — it will cause opaque responses
      });

      // Debug aid: if fetch didn't throw, log status/body to console
      const text = await res.text();
      let out = {};
      try { out = JSON.parse(text); } catch { /* keep empty */ }
      console.log('POST status:', res.status, 'body:', text);

      if (res.ok && out.ok) {
        form.reset();
        msg.textContent = out.deduped
          ? 'You were already on the list — we’ll keep you posted!'
          : 'You’re on the list! We’ll notify you at launch.';
        msg.className = 'text-sm text-green-400';
      } else {
        msg.textContent = (out && out.error) ? out.error : 'Something went wrong. Please try again.';
        msg.className = 'text-sm text-red-400';
      }
    } catch (err) {
      console.error('Network error:', err);
      msg.textContent = 'Network error — please try again.';
      msg.className = 'text-sm text-red-400';
    } finally {
      btn.disabled = false;
    }
  });
</script>

</body>
</html>
